<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>赋值 | 梁月恩的博客</title>
    <meta name="description" content="-">
    
    
    <link rel="preload" href="/assets/css/7.styles.722bee8d.css" as="style"><link rel="preload" href="/assets/js/app.bc07c08b.js" as="script"><link rel="preload" href="/assets/js/4.efe85749.js" as="script"><link rel="prefetch" href="/assets/js/1.26dba31d.js"><link rel="prefetch" href="/assets/js/2.cc4b1c48.js"><link rel="prefetch" href="/assets/js/3.e9498537.js"><link rel="prefetch" href="/assets/js/0.337ebb51.js"><link rel="prefetch" href="/assets/js/5.26497a06.js"><link rel="prefetch" href="/assets/js/6.85c7d13e.js">
    <link rel="stylesheet" href="/assets/css/7.styles.722bee8d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      梁月恩的博客
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">java</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/java/" class="nav-link router-link-active">java编程的逻辑笔记</a></li><li class="dropdown-item"><!----><a href="/java/.html" class="nav-link">多线程</a></li><li class="dropdown-item"><!----><a href="/java/.html" class="nav-link">杂记</a></li></ul></div></div><div class="nav-item"><a href="/problem/" class="nav-link">问题</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">java</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/java/" class="nav-link router-link-active">java编程的逻辑笔记</a></li><li class="dropdown-item"><!----><a href="/java/.html" class="nav-link">多线程</a></li><li class="dropdown-item"><!----><a href="/java/.html" class="nav-link">杂记</a></li></ul></div></div><div class="nav-item"><a href="/problem/" class="nav-link">问题</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><!----></nav><ul class="sidebar-links"><li><a href="/java/dataAndVariables.html" class="sidebar-link">数据和变量</a></li><li><a href="/java/assign.html" class="active sidebar-link">赋值</a></li><li><a href="/java/neibulei.html" class="sidebar-link">内部类</a></li><li><a href="/java/final.html" class="sidebar-link">final</a></li><li><a href="/java/static.html" class="sidebar-link">static</a></li></ul></div><div class="page"><div class="content"><h4 id="赋值"><a href="#赋值" aria-hidden="true" class="header-anchor">#</a> 赋值</h4><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>有了数据，我们能做很多操作。但本文只说说对数据做的第一个操作：赋值。声明变量之后，就在内存分配了一块位置，
但这个位置的内容是未知的，赋值就是把这块位置的内容设为一个确定的值。</p></div><p>Java中基本类型、数组、对象的赋值有明显不同，本文介绍基本类型和数组的赋值，关于对象后续文章会详述。</p><p>我们先来说基本类型的赋值，然后再说数组的赋值。</p><h4 id="基本类型的赋值"><a href="#基本类型的赋值" aria-hidden="true" class="header-anchor">#</a> 基本类型的赋值</h4><h5 id="整数类型"><a href="#整数类型" aria-hidden="true" class="header-anchor">#</a> 整数类型</h5><p>整数有byte,short,int,long 分别占用1/2/4/8个字节取值范围分别是:</p><table><thead><tr><th>类型</th><th style="text-align:center">取值范围</th></tr></thead><tbody><tr><td>byte</td><td style="text-align:center">-2^7 ~ 2^7-1</td></tr><tr><td>short</td><td style="text-align:center">-2^15 ~ 2^15-1</td></tr><tr><td>int</td><td style="text-align:center">-2^31 ~ 2^31-1</td></tr><tr><td>long</td><td style="text-align:center">-2^63 ~ 2^63-1</td></tr></tbody></table><p>我们用^表示指数，2^7即2的7次方。这个范围我们不需要记的那么清楚，有个大概范围认识就可以了，
大多数日常应用，一般用int就可以了。后续文章会从二进制的角度进一步分析表示范围为什么会是这样的。</p><p>赋值形式很简单，直接把熟悉的数字常量形式赋值给变量即可，对应的内存空间的值就从未知变成了确定的常量。
但常量不能超过对应类型的表示范围。例如：</p><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">byte</span> b <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span>
<span class="token keyword">short</span> s <span class="token operator">=</span> <span class="token number">3333</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">9999</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> l <span class="token operator">=</span> <span class="token number">32323</span><span class="token punctuation">;</span>
</code></pre></div><p>但是，在给long类型赋值时，如果常量超过了int的表示范围，需要在常量后面加大写或小写的L，即L或l，例如:</p><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> a <span class="token operator">=</span> <span class="token number">3232343433</span>L<span class="token punctuation">;</span>
</code></pre></div><p>这个是由于数字常量默认为是int类型。</p><h5 id="小数类型"><a href="#小数类型" aria-hidden="true" class="header-anchor">#</a> 小数类型</h5><p>小数类型有float和double，占用的内存空间分别是4和8个字节，有不同的取值范围和精度，double表示的范围更大，精度更高，具体来说：</p><table><thead><tr><th>类型</th><th style="text-align:center">取值范围</th></tr></thead><tbody><tr><td>float</td><td style="text-align:center">1.4E-45 ~ 3.4E+38-3.4E+38 ~-1.4E-45</td></tr><tr><td>double</td><td style="text-align:center">4.9E-324 ~1.7E+308-1.7E+308 ~ -4.9E-324</td></tr></tbody></table><p>取值范围看上去很奇怪，一般我们也不需要记住，有个大概印象就可以了。E表示以10为底的指数，E后面的+号和-号代表正指数和负指数，
例如：1.4E-45表示1.4乘以10的-45次方。后续文章会进一步分析小数的二进制表示。</p><p>对于double，直接把熟悉的小数表示赋值给变量即可，例如：</p><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">333.33</span><span class="token punctuation">;</span>
</code></pre></div><p>但对于float，需要在数字后面加大写F或小写f，例如：</p><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">float</span> f <span class="token operator">=</span> <span class="token number">333.33f</span><span class="token punctuation">;</span>
</code></pre></div><p>这个是由于小数常量默认为是double类型。</p><p>除了小数，也可以把整数直接赋值给float或double，例如：</p><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">float</span> f <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">3333333333333</span>L<span class="token punctuation">;</span>
</code></pre></div><p>boolean类型</p><p>这个很简单，直接使用true或false赋值，分别表示真和假，例如：</p><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">boolean</span> b <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
b <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  
</code></pre></div><p>字符类型</p><p>字符类型char用于表示一个字符，这个字符可以是中文字符，也可以是英文字符。在内存中，
Java用两个字节表示一个字符。赋值时把常量字符用单引号括起来，不要使用双引号，例如：</p><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token string">'A'</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> z <span class="token operator">=</span> <span class="token string">'中'</span><span class="token punctuation">;</span>  
</code></pre></div><p>关于字符类型有一些细节，后续文章会进一步深度解析。</p><h4 id="一些说明"><a href="#一些说明" aria-hidden="true" class="header-anchor">#</a> 一些说明</h4><p>上面介绍的赋值都是直接给变量设置一个常量值。但也可以把变量赋给变量，例如：</p><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
</code></pre></div><p>变量可以进行各种运算（后续文章讲解），也可以将变量的运算结果赋给变量，例如：</p><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span>a<span class="token operator">+</span>b<span class="token punctuation">;</span> <span class="token comment">//2乘以a的值再加上b的值赋给c</span>
</code></pre></div><p>上面介绍的赋值都是在声明变量的时候就进行了赋值，但这不是必须的，可以先声明变量，随后再进行赋值。</p><h4 id="数组类型"><a href="#数组类型" aria-hidden="true" class="header-anchor">#</a> 数组类型</h4><h5 id="赋值语句"><a href="#赋值语句" aria-hidden="true" class="header-anchor">#</a> 赋值语句</h5><p>基本类型的数组有三种赋值形式，如下所示：</p><div class="language-java extra-class"><pre class="language-java"><code><span class="token number">1.</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token number">2.</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token number">3.</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
</code></pre></div><p>第一种和第二种都是预先知道数组的内容，而第三种是先分配长度，然后再给每个元素赋值。</p><p>第三种形式中，即使没有给每个元素赋值，每个元素也都有一个默认值，这个默认值跟数组类型有关。
数值类型的值为0，boolean为false, char为空字符。</p><p>数组长度可以动态确定，如下所示：</p><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">;</span><span class="token comment">//根据一些条件动态计算</span>
<span class="token keyword">int</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>  
</code></pre></div><p>虽然可以动态确定，但定了之后就不可以变，数组有一个length属性，但只能读，不能改。</p><p>一个小细节，不能在给定初始值的同时还给定长度，即如下格式是不允许的：</p><div class="language- extra-class"><pre class="language-text"><code>int[] arr = new int[3]{1,2,3}
</code></pre></div><p>这是可以理解的，因为初始值已经决定了长度，再给个长度，如果还不一致，计算机将无所适从。</p><h4 id="数组和基本类型的区别"><a href="#数组和基本类型的区别" aria-hidden="true" class="header-anchor">#</a> 数组和基本类型的区别</h4><p>一个基本类型变量，内存中只会有一块对应的内存空间。但数组有两块，一块用于存储数组内容本身，另一块用于存储内容的位置。</p><p>用一个例子来说明，有一个int变量a，和一个int数组变量arr，其代码，变量对应的内存地址和内存内容如下所示：</p><p>代码	                     内存地址	                            内存数据</p><div class="language-js extra-class"><pre class="language-js"><code>int a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>	            <span class="token number">1000</span>	                                <span class="token number">100</span>
int<span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>	    <span class="token number">2000</span>	                                <span class="token number">3000</span>
 	                        <span class="token number">3000</span>	                                <span class="token number">1</span>
 	                        <span class="token number">3004</span>	                                <span class="token number">2</span>
 	                        <span class="token number">3008</span>	                                <span class="token number">3</span>
</code></pre></div><p>基本类型a的内存地址是1000，这个位置存储的就是它的值100。</p><p>数组类型arr的内存地址是2000，这个位置存储的值是一个位置3000，3000开始的位置存储的才是实际的数据1,2,3。</p><h5 id="为什么数组要用两块空间"><a href="#为什么数组要用两块空间" aria-hidden="true" class="header-anchor">#</a> 为什么数组要用两块空间</h5><p>不能只用一块空间吗？我们来看下面这个代码：</p><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arrA <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arrB <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
arrA <span class="token operator">=</span> arrB<span class="token punctuation">;</span>
</code></pre></div><p>这个代码中，arrA初始的长度是3，arrB的长度是4，后来将arrB的值赋给了arrA。
如果arrA对应的内存空间是直接存储的数组内容，那么它将没有足够的空间去容纳arrB的所有元素。</p><p>用两块空间存储，这个就简单的多，arrA存储的值就变成了和arrB的一样，
存储的都是数组内容{4,5,6,7}的地址，此后访问arrA就和arrB是一样的了，
而arrA {1,2,3}的内存空间由于无人引用会被垃圾回收，如下所示：<br><img src="https://raw.githubusercontent.com/chengzh100/image_db/master/%E6%B7%B1%E5%BA%A6%E6%88%AA%E5%9B%BE_%E9%80%89%E6%8B%A9%E5%8C%BA%E5%9F%9F_20180626104726.png" alt="image">
由上，也可以看出，给数组变量赋值和给数组中元素赋值是两回事。给数组中元素赋值是改变数组内容，而给数组变量赋值则会让变量指向一个不同的位置。</p><p>上面我们说数组的长度是不可以变的，不可变指的是数组的内容空间，一经分配，长度就不能再变了，但是可以改变数组变量的值，让它指向一个长度不同的空间，就像上例中arrA后来指向了arrB一样。</p><h4 id="小结"><a href="#小结" aria-hidden="true" class="header-anchor">#</a> 小结</h4><p>给变量赋值就是将变量对应的内存空间设置为一个明确的值，有了值之后，变量可以被加载到CPU，CPU可以对这些值进行各种运算，运算后的结果又可以被赋值给变量，保存到内存中。</p><p>数据可以进行哪些运算？如何进行运算呢？</p></div><div class="page-edit"><!----><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/java/dataAndVariables.html" class="prev">
          数据和变量
        </a></span><span class="next"><a href="/java/neibulei.html">
          内部类
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/4.efe85749.js" defer></script><script src="/assets/js/app.bc07c08b.js" defer></script>
  </body>
</html>
